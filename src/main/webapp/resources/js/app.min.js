document.addEventListener("DOMContentLoaded", function () {
  // Admin Panel settings

  //****************************
  /* This is for the mini-sidebar if width is less than 1170 */
  //****************************
  var setSidebarType = function () {
      var width = window.innerWidth > 0 ? window.innerWidth : screen.width;
      var mainWrapper = document.getElementById("main-wrapper");

      if (width < 1199) {
          mainWrapper.setAttribute("data-sidebartype", "mini-sidebar");
          mainWrapper.classList.add("mini-sidebar");
      } else {
          mainWrapper.setAttribute("data-sidebartype", "full");
          mainWrapper.classList.remove("mini-sidebar");
      }
  };

  // Gọi hàm khi trang tải xong
  setSidebarType();

  // Gọi hàm khi thay đổi kích thước cửa sổ
  window.addEventListener("resize", setSidebarType);

  //****************************
  /* This is for sidebartoggler */
  //****************************
  var sidebartogglers = document.querySelectorAll(".sidebartoggler");

  sidebartogglers.forEach(function (toggler) {
      toggler.addEventListener("click", function () {
          var mainWrapper = document.getElementById("main-wrapper");

          // Toggle class "mini-sidebar"
          mainWrapper.classList.toggle("mini-sidebar");
          if (mainWrapper.classList.contains("mini-sidebar")) {
              toggler.checked = true;
              mainWrapper.setAttribute("data-sidebartype", "mini-sidebar");
          } else {
              toggler.checked = false;
              mainWrapper.setAttribute("data-sidebartype", "full");
          }

          // Toggle class "show-sidebar"
          mainWrapper.classList.toggle("show-sidebar");
      });
  });
});
